(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1021:function(e,t,a){"use strict";var n=a(35),r=a(100),s=a(3),c=a.n(s),o=a(112),i=a.n(o),u=a(886),l=a.n(u),d=a(887),f={tag:d.l,className:i.a.string,cssModule:i.a.object},h=function(e){var t=e.className,a=e.cssModule,s=e.tag,o=Object(r.a)(e,["className","cssModule","tag"]),i=Object(d.h)(l()(t,"card-header"),a);return c.a.createElement(s,Object(n.a)({},o,{className:i}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},1022:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(228),r=a(229),s=a(904),c=a(233),o=a(905),i=a(926),u=a.n(i),l={Authorization:"Basic "+Object(c.a)().authHeader},d=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getVouchers",value:function(){return new Promise(function(e,t){s.a.http({url:o.a.VOUCHER_URL+"/all",headers:l}).GET.then(function(t){t&&(u.a.isArray(t.data)&&!u.a.isEmpty(t.data)?e(t.data):e([]))}).catch(function(e){t(e)})})}},{key:"generateVoucher",value:function(e){return new Promise(function(t,a){s.b.isEmpty(e)&&t("Invalid payload."),s.a.http({url:o.a.VOUCHER_URL,headers:l,data:e}).POST.then(function(e){t(e.data.voucher)}).catch(function(e){a(e)})})}},{key:"deleteVoucher",value:function(e){return new Promise(function(t,a){s.a.http({url:"".concat(o.a.VOUCHER_URL,"/manage"),data:{vouchercode:e},headers:l}).DELETE.then(function(e){t(e.data.message)}).catch(function(e){a(e)})})}}]),e}()},1076:function(e,t,a){"use strict";var n=a(35),r=a(100),s=a(3),c=a.n(s),o=a(112),i=a.n(o),u=a(886),l=a.n(u),d=a(887),f={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:d.l,responsiveTag:d.l,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},h=function(e){var t=e.className,a=e.cssModule,s=e.size,o=e.bordered,i=e.borderless,u=e.striped,f=e.dark,h=e.hover,m=e.responsive,p=e.tag,b=e.responsiveTag,v=e.innerRef,g=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),O=Object(d.h)(l()(t,"table",!!s&&"table-"+s,!!o&&"table-bordered",!!i&&"table-borderless",!!u&&"table-striped",!!f&&"table-dark",!!h&&"table-hover"),a),E=c.a.createElement(p,Object(n.a)({},g,{ref:v,className:O}));if(m){var y=Object(d.h)(!0===m?"table-responsive":"table-responsive-"+m,a);return c.a.createElement(b,{className:y},E)}return E};h.propTypes=f,h.defaultProps={tag:"table",responsiveTag:"div"},t.a=h},1254:function(e,t,a){"use strict";a.r(t);var n=a(228),r=a(229),s=a(231),c=a(230),o=a(232),i=a(3),u=a.n(i),l=a(956),d=a(957),f=a(958),h=a(1021),m=a(959),p=a(1076),b=a(926),v=a.n(b),g=a(1022),O=a(942),E=a.n(O),y=a(904),j=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).deleteVoucher=function(e){a.voucherService.deleteVoucher(e).then(function(e){e?(E.a.fire("Success","Voucher deleted.","success"),a.getVouchers()):E.a.fire("Error","Voucher not deleted. Please try again","error")}).catch(function(e){E.a.fire("Oops!","Something went wrong. Please try again","error")})},a.getVouchers=function(){a.voucherService.getVouchers().then(function(e){e&&a.setState({vouchers:e})}).catch(function(e){console.error(e)})},a.voucherService=new g.a,a.state={vouchers:[]},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getVouchers()}},{key:"render",value:function(){var e=this,t=this.state.vouchers;return u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(l.a,null,u.a.createElement(d.a,{lg:12},u.a.createElement(f.a,null,u.a.createElement(h.a,null,"Manage Vouchers"),u.a.createElement(m.a,null,u.a.createElement(p.a,{responsive:!0,striped:!0,hover:!0},u.a.createElement("th",{className:"text-center"},"Voucher Code"),u.a.createElement("th",{className:"text-center"},"No."),u.a.createElement("th",{className:"text-center"},"Name"),u.a.createElement("th",{className:"text-center"},"Date Generated"),u.a.createElement("th",{className:"text-center"},"Status"),u.a.createElement("th",{className:"text-center"},"Action"),u.a.createElement("tbody",null,v.a.isArray(t)&&!v.a.isEmpty(t)?v.a.map(t,function(t,a){return u.a.createElement("tr",{key:a},u.a.createElement("td",{className:"text-center"},t.vouchercode),u.a.createElement("td",{className:"text-center"},t.rangedays),u.a.createElement("td",{className:"text-center"},t.date),u.a.createElement("td",{className:"text-center"},y.a.renderDateFormat(t.generateddate)),u.a.createElement("td",{className:"text-center"},u.a.createElement("span",{class:"badge badge-danger"},t.status)),u.a.createElement("td",{className:"text-center"},u.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(a){e.deleteVoucher(t.vouchercode)}},u.a.createElement("i",{class:"fa fa-remove"}),"\xa0Remove")))}):u.a.createElement("tr",{colSpan:6},u.a.createElement("td",{colSpan:6},u.a.createElement("p",{className:"text-muted text-center"},"Nothing to show."))))))))))}}]),t}(i.Component);t.default=j},904:function(e,t,a){"use strict";a.d(t,"a",function(){return m}),a.d(t,"b",function(){return p});var n=a(948),r=a(228),s=a(229),c=a(944),o=a.n(c),i=a(927),u=a.n(i),l=a(945),d=function(){function e(){Object(r.a)(this,e),this.parser=new l.UAParser}return Object(s.a)(e,[{key:"getDeviceName",value:function(){var e=this.parser.getDevice().vendor||"",t=this.parser.getDevice().model||"",a=this.parser.getDevice().type||"";return"".concat(e," ").concat(t," ").concat(a)}},{key:"getDeviceOS",value:function(){return this.parser.getOS().name+" "+this.parser.getOS().version}},{key:"getDeviceCPU",value:function(){return this.parser.getCPU()}},{key:"getDeviceEngine",value:function(){return this.parser.getEngine()}}]),e}(),f=function(){function e(){Object(r.a)(this,e)}return Object(s.a)(e,null,[{key:"http",value:function(e){return new h(e)}},{key:"getDeviceDetails",value:function(){return new d}},{key:"handleResponse",value:function(e){return new Promise(function(t,a){[401,403].includes(e.status)||t(e),[401,403].includes(e.status)?window.location.reload():t(e),t(e)})}},{key:"renderDateFormat",value:function(e){return u()(e).format("MMMM D, YYYY h:mm A")}}]),e}(),h=function(){function e(t){Object(r.a)(this,e),this.options=t}return Object(s.a)(e,[{key:"GET",get:function(){var e=this.options,t=Object(n.a)({},e.headers);return new Promise(function(a,n){o.a.get(e.url,{headers:t}).then(function(e){a(e)}).catch(function(e){n(e)})})}},{key:"POST",get:function(){var e={method:"POST",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){o.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}},{key:"DELETE",get:function(){var e={method:"DELETE",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){o.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}},{key:"PUT",get:function(){var e={method:"PUT",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){o.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}}]),e}(),m=f,p=function(){function e(){Object(r.a)(this,e)}return Object(s.a)(e,null,[{key:"isEmpty",value:function(t){return"object"===typeof t?e.isEmptyObject(t):!t||"undefined"===t||""==t||" "==t||null===t}},{key:"isEmptyObject",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"removeNullKey",value:function(e){var t=Object.assign({},e);for(var a in t)t.hasOwnProperty(a)&&this.isEmpty(t[a])&&delete t[a];return t}}]),e}()},905:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n="http://10.0.0.1:5000/",r={LOGIN_URL:n+"api/admin/authenticate",DEVICE_URL:n+"api/device",VOUCHER_URL:n+"api/voucher",ADMIN_URL:n+"api/admin",MACHINE_URL:n+"api/machine",ROUTER_URL:n+"api/router",LOG_URL:n+"api/logs",COINSLOT_URL:n+"api/coinslot",WS_URL:"ws://10.0.0.1:5000/socket"}},907:function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},956:function(e,t,a){"use strict";var n=a(35),r=a(100),s=a(3),c=a.n(s),o=a(112),i=a.n(o),u=a(886),l=a.n(u),d=a(887),f={tag:d.l,noGutters:i.a.bool,className:i.a.string,cssModule:i.a.object,form:i.a.bool},h=function(e){var t=e.className,a=e.cssModule,s=e.noGutters,o=e.tag,i=e.form,u=Object(r.a)(e,["className","cssModule","noGutters","tag","form"]),f=Object(d.h)(l()(t,s?"no-gutters":null,i?"form-row":"row"),a);return c.a.createElement(o,Object(n.a)({},u,{className:f}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},957:function(e,t,a){"use strict";var n=a(35),r=a(100),s=a(907),c=a.n(s),o=a(3),i=a.n(o),u=a(112),l=a.n(u),d=a(886),f=a.n(d),h=a(887),m=l.a.oneOfType([l.a.number,l.a.string]),p=l.a.oneOfType([l.a.bool,l.a.number,l.a.string,l.a.shape({size:l.a.oneOfType([l.a.bool,l.a.number,l.a.string]),order:m,offset:m})]),b={tag:h.l,xs:p,sm:p,md:p,lg:p,xl:p,className:l.a.string,cssModule:l.a.object,widths:l.a.array},v={tag:"div",widths:["xs","sm","md","lg","xl"]},g=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},O=function(e){var t=e.className,a=e.cssModule,s=e.widths,o=e.tag,u=Object(r.a)(e,["className","cssModule","widths","tag"]),l=[];s.forEach(function(t,n){var r=e[t];if(delete u[t],r||""===r){var s=!n;if(c()(r)){var o,i=s?"-":"-"+t+"-",d=g(s,t,r.size);l.push(Object(h.h)(f()(((o={})[d]=r.size||""===r.size,o["order"+i+r.order]=r.order||0===r.order,o["offset"+i+r.offset]=r.offset||0===r.offset,o)),a))}else{var m=g(s,t,r);l.push(m)}}}),l.length||l.push("col");var d=Object(h.h)(f()(t,l),a);return i.a.createElement(o,Object(n.a)({},u,{className:d}))};O.propTypes=b,O.defaultProps=v,t.a=O},958:function(e,t,a){"use strict";var n=a(35),r=a(100),s=a(3),c=a.n(s),o=a(112),i=a.n(o),u=a(886),l=a.n(u),d=a(887),f={tag:d.l,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},h=function(e){var t=e.className,a=e.cssModule,s=e.color,o=e.body,i=e.inverse,u=e.outline,f=e.tag,h=e.innerRef,m=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),p=Object(d.h)(l()(t,"card",!!i&&"text-white",!!o&&"card-body",!!s&&(u?"border":"bg")+"-"+s),a);return c.a.createElement(f,Object(n.a)({},m,{className:p,ref:h}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},959:function(e,t,a){"use strict";var n=a(35),r=a(100),s=a(3),c=a.n(s),o=a(112),i=a.n(o),u=a(886),l=a.n(u),d=a(887),f={tag:d.l,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},h=function(e){var t=e.className,a=e.cssModule,s=e.innerRef,o=e.tag,i=Object(r.a)(e,["className","cssModule","innerRef","tag"]),u=Object(d.h)(l()(t,"card-body"),a);return c.a.createElement(o,Object(n.a)({},i,{className:u,ref:s}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h}}]);