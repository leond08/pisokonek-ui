(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1073:function(e,t,a){"use strict";a.r(t);var n=a(235),c=a(228),r=a(229),i=a(231),s=a(230),o=a(236),l=a(232),u=a(3),d=a.n(u),p=a(919),h=a(920),f=a(924),m=a(925),g=a(892),_=a.n(g),b=a(886),v=a.n(b),E=a(888),y=a.n(E),O=a(897),k=a.n(O),j=a(898),N=a(923),w=a(946),C=a(894),T=a(895),I=a(952),P=a(921),x=a(922),S=a(910),R=a(926),D=a(911),L=a(931),A=a(932),M=a(954),U=a(991),F=a(941),B=a(936),G=a(907),z=a(889),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).getDhcpConfig=function(e){a.dhcpService.getDhcpConfig(e).then(function(t){a.setState({dhcp_config:t,static_host:t.dhcp_config.static_mapping,blocked_mac:t.dhcp_config.mac_blocked_list,dhcp_range:y.a.find(t.dhcp_config.dhcp_range,{interface:e}),dhcp_option:y.a.find(t.dhcp_config.dhcp_option,{interface:e})})}).catch(function(e){console.error(e)})},a.validateIPRange=function(e){var t={};return a.state.dhcp_config.ip_range.includes(e.dhcp_range_start)||(t.dhcp_range_start="IP Address must be in range."),a.state.dhcp_config.ip_range.includes(e.dhcp_range_end)||(t.dhcp_range_end="IP Address must be in range."),t},a.dhcpService=new G.a,a.state={subActiveTab:"1",dhcp_config:{},static_host:[],blocked_mac:[],dhcp_range:{},dhcp_option:{}},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e="vlan"===this.props.data.type?this.props.data.device+"."+this.props.data.vlan_id:this.props.data.name;this.getDhcpConfig(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.tabId,n=t.data,c=t.status,r=t.dhcp_config,i=t.static_host,s=t.blocked_mac,o=t.dhcp_range,l=t.dhcp_option,u="vlan"===n.type?n.device+"."+n.vlan_id:n.name,p="",h="",f="",m="",g=y.a.findIndex(z.b.isEmpty(r.dhcp_config)?{}:r.dhcp_config.interface,{name:u});return z.b.isEmpty(r)||(f=r.ip_range.length>=2?r.ip_range[1]:r.ip_range[0],m=r.ip_range.length>=2?r.ip_range[r.ip_range.length-2]:r.ip_range[0],p=r.net_details.hasOwnProperty("addr")?r.net_details.addr:"",h=r.net_details.hasOwnProperty("netmask")?r.net_details.netmask:""),c?d.a.createElement(T.e,{enableReinitialize:!0,initialValues:{enable_dhcp_interface:-1!==g,dhcp_range_start:z.b.isEmpty(o)?"":o.start,dhcp_range_end:z.b.isEmpty(o)?"":o.end,dhcp_default_gateway:z.b.isEmpty(l)?p:l.ipaddress,dhcp_static_mac:"",dhcp_static_host:"",dhcp_static_ip:"",dhcp_static_block_mac:"",dhcp_blocked_map:s,dhcp_static_map:i,dhcp_static_block_mac_name:""},validate:this.validateIPRange,validationSchema:C.c().shape({dhcp_range_start:C.d().matches(/(^(\d{1,3}\.){3}(\d{1,3})$)/,{message:"Invalid IP address",excludeEmptyString:!0}).required("Required field."),dhcp_range_end:C.d().matches(/(^(\d{1,3}\.){3}(\d{1,3})$)/,{message:"Invalid IP address",excludeEmptyString:!0}).required("Required field."),dhcp_default_gateway:C.d().matches(/(^(\d{1,3}\.){3}(\d{1,3})$)/,{message:"Invalid IP address",excludeEmptyString:!0}),dhcp_static_ip:C.d().matches(/(^(\d{1,3}\.){3}(\d{1,3})$)/,{message:"Invalid IP address",excludeEmptyString:!0})}),onSubmit:function(t){_.a.fire({title:"Save Changes",text:"Are you sure you want to save your changes?",confirmButtonText:"Yes",cancelButtonText:"No",showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:function(){var a=Object(j.a)(k.a.mark(function a(){var n,c,i,s,o,l,d;return k.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=r.dhcp_config,c=Object.assign({},n),i=y.a.findIndex(n.dhcp_range,{interface:u}),s=y.a.findIndex(n.dhcp_option,{interface:u}),o=y.a.findIndex(n.interface,{name:u}),!t.enable_dhcp_interface){a.next=15;break}-1===o&&(y.a.isArray(c.interface)?c.interface.push({name:u}):c.interface=[{name:u}]),l={ipaddress:t.dhcp_default_gateway,option:3,interface:u},-1===s?y.a.isArray(c.dhcp_option)?c.dhcp_option.push(l):c.dhcp_option=[l]:c.dhcp_option[s]=l,d={end:t.dhcp_range_end,interface:u,start:t.dhcp_range_start,lease_time:"infinite",subnet:h},-1===i?y.a.isArray(c.dhcp_range)?c.dhcp_range.push(d):c.dhcp_range=[d]:c.dhcp_range[i]=d,c.static_mapping=t.dhcp_static_map,c.mac_blocked_list=t.dhcp_blocked_map,a.next=18;break;case 15:return a.next=17,e.dhcpService.removeFromDHCP(u);case 17:c=a.sent;case 18:return a.abrupt("return",e.dhcpService.updateDhcpConfig(c,u).then(function(t){return e.props.getDhcpConfigByIface(u),t}).catch(function(e){_.a.fire("Error",e,"error")}));case 19:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}(),allowOutsideClick:function(){return!_.a.isLoading()}}).then(function(e){e.value&&_.a.fire("Saved Changes",e.value,"success")})}},function(t){t.handleChange;var n=t.values,c=(t.isValid,t.errors),r=t.setFieldValue,i=(t.setFieldError,t.setFieldTouched);return d.a.createElement(N.a,{tabId:a},d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(P.a,null,d.a.createElement(x.a,{lg:12},d.a.createElement(T.d,null,d.a.createElement(S.a,null,d.a.createElement(R.a,null,"General"),d.a.createElement(D.a,null,d.a.createElement(L.a,{check:!0},d.a.createElement(A.a,{check:!0},d.a.createElement(T.b,{component:M.a,name:"enable_dhcp_interface",type:"checkbox",onBlur:function(e){return i("enable_dhcp_interface",!0)},onChange:function(e){return r("enable_dhcp_interface",e.target.checked)},checked:n.enable_dhcp_interface})," ","Enable DHCP for ",u," interface")),d.a.createElement("hr",null),d.a.createElement(L.a,null,d.a.createElement(A.a,{className:"font-weight-bold"},"IP Address"),d.a.createElement("p",null,p)),d.a.createElement("hr",null),d.a.createElement(L.a,null,d.a.createElement(A.a,{className:"font-weight-bold"},"Subnet"),d.a.createElement("p",null,h)),d.a.createElement("hr",null),d.a.createElement(L.a,null,d.a.createElement(A.a,{className:"font-weight-bold"},"Available Range"),d.a.createElement("p",null,f," - ",m),d.a.createElement(A.a,{className:"font-weight-bold"},"Range"),d.a.createElement(U.a,null,d.a.createElement(T.b,{name:"dhcp_range_start",component:M.a,type:"text",value:n.dhcp_range_start,onBlur:function(e){return i("dhcp_range_start",!0)},onChange:function(e){return r("dhcp_range_start",e.target.value)}}),d.a.createElement(T.b,{name:"dhcp_range_end",component:M.a,type:"text",value:n.dhcp_range_end,onBlur:function(e){return i("dhcp_range_end",!0)},onChange:function(e){return r("dhcp_range_end",e.target.value)}})),d.a.createElement("p",{className:"float-left"},"Start"),d.a.createElement("p",{className:"float-right"},"End"),d.a.createElement("br",null),d.a.createElement(T.a,{component:"div",name:"dhcp_range_start",className:"text-danger float-left"}),d.a.createElement(T.a,{component:"div",name:"dhcp_range_end",className:"text-danger float-right"})),d.a.createElement("br",null),d.a.createElement("hr",null),d.a.createElement(L.a,{className:"ip-captive-form"},d.a.createElement(A.a,{className:"font-weight-bold"},"Default Gateway"),d.a.createElement(U.a,null,d.a.createElement(T.b,{component:M.a,type:"text",name:"dhcp_default_gateway",placeholder:"Set the default gateway",value:n.dhcp_default_gateway,onBlur:function(e){return i("dhcp_default_gateway",!0)},onChange:function(e){return r("dhcp_default_gateway",e.target.value)}})),d.a.createElement(T.a,{component:"div",name:"dhcp_default_gateway",className:"text-danger"})))),d.a.createElement(S.a,null,d.a.createElement(R.a,null,"Other"),d.a.createElement(D.a,null,d.a.createElement(L.a,null,d.a.createElement(A.a,{className:"font-weight-bold"},"Static IP Mapping"),d.a.createElement(U.a,null,d.a.createElement(T.b,{component:M.a,type:"text",name:"dhcp_static_host",placeholder:"hostname ie. myhost",value:n.dhcp_static_host,onBlur:function(e){return i("dhcp_static_host",!0)},onChange:function(e){return r("dhcp_static_host",e.target.value)}}),d.a.createElement(T.b,{component:M.a,type:"text",name:"dhcp_static_mac",placeholder:"Mac Address of the device ie. 11:22:33:44:55:66",value:n.dhcp_static_mac,onBlur:function(e){return i("dhcp_static_mac",!0)},onChange:function(e){return r("dhcp_static_mac",e.target.value)}}),d.a.createElement(T.b,{component:M.a,type:"text",name:"dhcp_static_ip",placeholder:"Assign IP Address",value:n.dhcp_static_ip,onBlur:function(e){return i("dhcp_static_ip",!0)},onChange:function(e){return r("dhcp_static_ip",e.target.value)}}),d.a.createElement(F.a,{addonType:"append"},d.a.createElement(B.a,{type:"button",color:"success",onClick:function(t){return e.setState(function(){var e={host:n.dhcp_static_host,ip:n.dhcp_static_ip,mac:n.dhcp_static_mac,interface:u};if(z.b.isEmpty(c)&&!z.b.isEmpty(n.dhcp_static_mac)&&!z.b.isEmpty(n.dhcp_static_ip))return y.a.isEmpty(n.dhcp_static_map)?n.dhcp_static_map=[e]:n.dhcp_static_map.push(e),{static_host:n.dhcp_static_map}})}},"Add"))),d.a.createElement(T.a,{component:"div",name:"dhcp_static_mac",className:"text-danger"}),d.a.createElement(T.a,{component:"div",name:"dhcp_static_ip",className:"text-danger"}),d.a.createElement("br",null),y.a.isEmpty(n.dhcp_static_map)?d.a.createElement(w.a,null,"You have no static map."):y.a.map(n.dhcp_static_map,function(t,a){var c;if(t.interface===u)return d.a.createElement(d.a.Fragment,null,d.a.createElement(U.a,null,d.a.createElement(T.b,{component:M.a,value:t.host,type:"text",disabled:!0}),d.a.createElement(T.b,(c={component:M.a,value:"text"},Object(I.a)(c,"value",t.mac),Object(I.a)(c,"disabled",!0),c)),d.a.createElement(T.b,{component:M.a,type:"text",value:t.ip,disabled:!0}),d.a.createElement(F.a,{addonType:"append"},d.a.createElement(B.a,{type:"button",color:"danger",onClick:function(t){return e.setState(function(e){return n.dhcp_static_map.splice(a,1),{static_host:n.dhcp_static_map}})}},"Remove"))),d.a.createElement("br",null))})),d.a.createElement(L.a,null,d.a.createElement(A.a,{className:"font-weight-bold"},"Blocked MAC"),d.a.createElement(U.a,null,d.a.createElement(T.b,{component:M.a,type:"text",name:"dhcp_static_block_mac_name",placeholder:"Name of the device",value:n.dhcp_static_block_mac_name,onBlur:function(e){return i("dhcp_static_block_mac_name",!0)},onChange:function(e){return r("dhcp_static_block_mac_name",e.target.value)}}),d.a.createElement(T.b,{component:M.a,type:"text",name:"dhcp_static_block_mac",placeholder:"MAC Address of the Device",value:n.dhcp_static_block_mac,onBlur:function(e){return i("dhcp_static_block_mac",!0)},onChange:function(e){return r("dhcp_static_block_mac",e.target.value)}}),d.a.createElement(F.a,{addonType:"append"},d.a.createElement(B.a,{type:"button",color:"success",onClick:function(t){return e.setState(function(){var e={name:n.dhcp_static_block_mac_name,mac:n.dhcp_static_block_mac,interface:u};return y.a.isEmpty(n.dhcp_static_block_mac)||y.a.isEmpty(n.dhcp_static_block_mac_name)||(y.a.isEmpty(n.dhcp_blocked_map)?n.dhcp_blocked_map=[e]:n.dhcp_blocked_map.push()),{blocked_mac:n.dhcp_blocked_map}})}},"Add"))),d.a.createElement("br",null),y.a.isEmpty(n.dhcp_blocked_map)?d.a.createElement(w.a,null,"You have no blocked device."):y.a.map(n.dhcp_blocked_map,function(t,a){if(t.interface===u)return d.a.createElement(d.a.Fragment,null,d.a.createElement(U.a,null,d.a.createElement(T.b,{component:M.a,value:t.name,type:"text",disabled:!0}),d.a.createElement(T.b,{component:M.a,value:t.mac,type:"text",disabled:!0}),d.a.createElement(F.a,{addonType:"append"},d.a.createElement(B.a,{type:"button",color:"danger",onClick:function(t){return e.setState(function(e){return e.blocked_mac.splice(a,1),{blocked_mac:s}})}},"Remove"))),d.a.createElement("br",null))})))),d.a.createElement(P.a,null,d.a.createElement(x.a,null,d.a.createElement(B.a,{color:"primary"},"Save"))))))))}):d.a.createElement(N.a,{tabId:a},d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(P.a,null,d.a.createElement(x.a,{lg:12},d.a.createElement(w.a,{color:"danger"},"This nic is not active. Please activate it first.")))))}}]),t}(u.Component),V=a(902),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).getDhcpConfig=function(){var e=Object(j.a)(k.a.mark(function e(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.dhcpService.getDhcpConfig(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getNetworkList=Object(j.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.networkInterface.getNetworkList();case 2:t=e.sent,a.setState({interfaces:t.interfaces,available_nics:t.available_nics});case 4:case"end":return e.stop()}},e)})),a.getNetworkInterfaces=Object(j.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.networkInterface.getNetworkInterfaces();case 2:t=e.sent,a.setState({interfaces:t});case 4:case"end":return e.stop()}},e)})),a.getDhcpConfigByIface=function(e){a.dhcpService.getDhcpConfig(e).then(function(t){a.setState({dhcp_config:t,static_host:t.dhcp_config.static_mapping,blocked_mac:t.dhcp_config.mac_blocked_list,dhcp_range:y.a.find(t.dhcp_config.dhcp_range,{interface:e}),dhcp_option:y.a.find(t.dhcp_config.dhcp_option,{interface:e})})}).catch(function(e){console.error(e)})},a.networkInterface=new V.a,a.dhcpService=new G.a,a.state={subActiveTab:"1",interfaces:[],available_nics:[],dhcp_config:"",static_host:"",blocked_mac:"",dhcp_range:[],dhcp_option:[]},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"subToggle",value:function(e){this.state.subActiveTab!==e&&this.setState({subActiveTab:e})}},{key:"componentDidMount",value:function(){this.getNetworkList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.interfaces,n=t.available_nics;return d.a.createElement(N.a,{tabId:"1"},y.a.isEmpty(a)?d.a.createElement(w.a,{color:"info"},"No available nics. Nics must have static ip."):d.a.createElement(p.a,{tabs:!0},y.a.map(a,function(t,a){var n=a+1,c="vlan"===t.type?t.device+"."+t.vlan_id:t.name;return d.a.createElement(h.a,null,d.a.createElement(f.a,{className:v()({active:e.state.subActiveTab===n}),onClick:function(){e.subToggle(n),e.getDhcpConfigByIface(c)}},d.a.createElement("i",{className:""}),"\xa0 ",c))})),d.a.createElement(m.a,{activeTab:this.state.subActiveTab},y.a.map(a,function(t,a){var c=a+1,r="vlan"===t.type?t.device+"."+t.vlan_id:t.name,i=!!n.includes(r);return d.a.createElement(H,{status:i,data:t,tabId:c,dhcp_config:e.state.dhcp_config,static_host:e.state.static_host,blocked_mac:e.state.blocked_mac,dhcp_range:e.state.dhcp_range,dhcp_option:e.state.dhcp_option,getDhcpConfigByIface:e.getDhcpConfigByIface})})))}}]),t}(u.Component),Y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).getAllDhcpConfig=function(){a.dhcpService.getAllDhcpConfig().then(function(e){a.setState({dhcp_config:e,name_server:e.dhcp_config.name_server})})},a.validateDns=function(e){var t={};return e.dns_servers.forEach(function(e){""===e&&(t.dns_null="Atleast 1 dns server is required.")}),t},a.dhcpService=new G.a,a.state={dhcp_config:{},name_server:[]},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getAllDhcpConfig()}},{key:"render",value:function(){var e=this.state,t=e.dhcp_config,a=e.name_server,n=[],c=[1,2,3,4];return y.a.isEmpty(a)||y.a.map(a,function(e,t){n.push(e.ip)}),d.a.createElement(T.e,{enableReinitialize:!0,initialValues:{dns_servers:n},validationSchema:C.c().shape({dns_servers:C.a().of(C.d().matches(/(^(\d{1,3}\.){3}(\d{1,3})$)/,{message:"Invalid IP address",excludeEmptyString:!0}))}),onSubmit:function(e){_.a.fire({title:"Save Changes",text:"Are you sure you want to save your changes?",confirmButtonText:"Yes",cancelButtonText:"No",showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:function(){var a=Object.assign({},t.dhcp_config),n=[];e.dns_servers.forEach(function(e){if(""!==e){var t={ip:e};n.push(t)}}),a.name_server=n,console.debug(a)},allowOutsideClick:function(){return!_.a.isLoading()}}).then(function(e){e.value&&_.a.fire("Saved Changes",e.value,"success")})}},function(e){e.handleChange;var t=e.values,a=(e.isValid,e.errors,e.setFieldValue),n=(e.setFieldError,e.setFieldTouched);return d.a.createElement(N.a,{tabId:"3"},d.a.createElement("div",{className:"animated fadeIn"},d.a.createElement(P.a,null,d.a.createElement(x.a,{lg:12},d.a.createElement(T.d,null,d.a.createElement(S.a,null,d.a.createElement(R.a,null,"Server"),d.a.createElement(D.a,null,d.a.createElement(L.a,{className:"pi-captive-form"},d.a.createElement(A.a,{className:"font-weight-bold"},"DNS Servers"),d.a.createElement(T.c,{name:"dns_servers",render:function(e){return c.map(function(e,c){return d.a.createElement(d.a.Fragment,null,d.a.createElement(U.a,null,d.a.createElement(T.b,{component:M.a,type:"text",name:"dns_servers.".concat(c),value:t.dns_servers[c],placeholder:"DNS Server",onBlur:function(e){return n("dns_servers.".concat(c),!0)},onChange:function(e){return a("dns_servers.".concat(c),e.target.value)}})),d.a.createElement(T.a,{component:"div",name:"dns_servers.".concat(c),className:"text-danger"}),d.a.createElement("br",null))})}})),d.a.createElement("p",{className:"text-muted"},"Configure dns server."))),d.a.createElement(P.a,null,d.a.createElement(x.a,null,d.a.createElement(B.a,{color:"primary"},"Save"))))))))})}}]),t}(u.Component),W=a(971),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).loading=function(){return d.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},a.getServerLog=function(e){return[a.logService.getServerLog(e).then(function(e){a.setState({fetching:!0,logs:e})}).catch(function(e){console.error(e)})]},a.logService=new W.a,a.state={fetching:!1,logs:"",logName:"leases"},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getServerLog(this.state.logName)}},{key:"render",value:function(){return d.a.createElement(N.a,{tabId:"2"},d.a.createElement("div",{className:"animated fadeIn"},this.state.fetching?d.a.createElement(P.a,null,d.a.createElement(x.a,null,d.a.createElement("pre",null,this.state.logs))):d.a.createElement(P.a,null,d.a.createElement(x.a,null,d.a.createElement("h1",null,"Fetching data. Please wait...")))))}}]),t}(u.Component);a.d(t,"default",function(){return K});var K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).toggle=a.toggle.bind(Object(o.a)(a)),a.state={activeTab:"1"},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){var e=this,t=(this.state.coinslots,this.props);t.children,Object(n.a)(t,["children"]);return d.a.createElement(d.a.Fragment,null,d.a.createElement(p.a,{tabs:!0},d.a.createElement(h.a,null,d.a.createElement(f.a,{className:v()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")}},d.a.createElement("i",{className:"fa fa-server"}),"\xa0 General")),d.a.createElement(h.a,null,d.a.createElement(f.a,{className:v()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")}},d.a.createElement("i",{className:"icon-settings"}),"\xa0 Leases")),d.a.createElement(h.a,null,d.a.createElement(f.a,{className:v()({active:"3"===this.state.activeTab}),onClick:function(){e.toggle("3")}},d.a.createElement("i",{className:"icon-settings"}),"\xa0 DNS"))),d.a.createElement(m.a,{activeTab:this.state.activeTab},d.a.createElement("br",null),d.a.createElement(Y,null),d.a.createElement($,null),d.a.createElement(q,null)))}}]),t}(u.Component)},889:function(e,t,a){"use strict";a.d(t,"a",function(){return f}),a.d(t,"b",function(){return m});var n=a(900),c=a(228),r=a(229),i=a(904),s=a.n(i),o=a(903),l=a.n(o),u=a(905),d=function(){function e(){Object(c.a)(this,e),this.parser=new u.UAParser}return Object(r.a)(e,[{key:"getDeviceName",value:function(){var e=this.parser.getDevice().vendor||"",t=this.parser.getDevice().model||"",a=this.parser.getDevice().type||"";return"".concat(e," ").concat(t," ").concat(a)}},{key:"getDeviceOS",value:function(){return this.parser.getOS().name+" "+this.parser.getOS().version}},{key:"getDeviceCPU",value:function(){return this.parser.getCPU()}},{key:"getDeviceEngine",value:function(){return this.parser.getEngine()}}]),e}(),p=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,null,[{key:"http",value:function(e){return new h(e)}},{key:"getDeviceDetails",value:function(){return new d}},{key:"handleResponse",value:function(e){return new Promise(function(t,a){[401,403].includes(e.status)||t(e),[401,403].includes(e.status)?window.location.reload():t(e),t(e)})}},{key:"renderDateFormat",value:function(e){return l()(e).format("MMMM D, YYYY h:mm A")}}]),e}(),h=function(){function e(t){Object(c.a)(this,e),this.options=t}return Object(r.a)(e,[{key:"GET",get:function(){var e=this.options,t=Object(n.a)({},e.headers);return new Promise(function(a,n){s.a.get(e.url,{headers:t}).then(function(e){a(e)}).catch(function(e){n(e)})})}},{key:"POST",get:function(){var e={method:"POST",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){s.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}},{key:"DELETE",get:function(){var e={method:"DELETE",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){s.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}},{key:"PUT",get:function(){var e={method:"PUT",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){s.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}}]),e}(),f=p,m=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,null,[{key:"isEmpty",value:function(t){return"object"===typeof t?e.isEmptyObject(t):!t||"undefined"===t||""==t||" "==t||null===t}},{key:"isEmptyObject",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"removeNullKey",value:function(e){var t=Object.assign({},e);for(var a in t)t.hasOwnProperty(a)&&this.isEmpty(t[a])&&delete t[a];return t}}]),e}()},891:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n="http://".concat(window.location.hostname,"/"),c="ws://".concat(window.location.hostname,":5000/socket"),r="http://".concat(window.location.hostname,":5001"),i={LOGIN_URL:n+"api/admin/authenticate",DEVICE_URL:n+"api/device",VOUCHER_URL:n+"api/voucher",ADMIN_URL:n+"api/admin",MACHINE_URL:n+"api/machine",ROUTER_URL:n+"api/router",LOG_URL:n+"api/logs",COINSLOT_URL:n+"api/coinslot",BANDWIDTH_URL:n+"api/bandwidth",SOFTWARE_URL:n+"api/software",BLOCKED_URL:n+"api/blocked",CAPTIVE_PORTAL_URL:n+"api/captive/portal",DHCP_CONFIG_URL:n+"api/dhcp/config",INTERFACE_URL:n+"api/network/interface",FIREWALL_URL:n+"api/firewall",WIRELESSAP_URL:n+"api/wireless",PACKAGE_URL:n+"api/package/management",APT_LOG:"http://".concat(window.location.hostname,":5000/api/apt/log"),CAPTIVE_PORTAL:r,WS_URL:c}},896:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(3),c=a.n(n).a.createContext({})},897:function(e,t,a){e.exports=a(348)},898:function(e,t,a){"use strict";function n(e,t,a,n,c,r,i){try{var s=e[r](i),o=s.value}catch(l){return void a(l)}s.done?t(o):Promise.resolve(o).then(n,c)}function c(e){return function(){var t=this,a=arguments;return new Promise(function(c,r){var i=e.apply(t,a);function s(e){n(i,c,r,s,o,"next",e)}function o(e){n(i,c,r,s,o,"throw",e)}s(void 0)})}}a.d(t,"a",function(){return c})},902:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var n=a(897),c=a.n(n),r=a(898),i=a(228),s=a(229),o=a(889),l=a(233),u=a(891),d=a(888),p=a.n(d),h={Authorization:"Basic "+Object(l.a)().authHeader},f=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"getNetworkInterface",value:function(){return new Promise(function(e,t){o.a.http({url:u.a.INTERFACE_URL,headers:h}).GET.then(function(t){e(t.data)}).catch(function(e){t(e)})})}},{key:"addNetworkInterface",value:function(e){return new Promise(function(t,a){o.a.http({url:u.a.INTERFACE_URL,headers:h,data:e}).POST.then(function(e){t(e.data)}).catch(function(e){a(e)})})}},{key:"deleteNetworkInterface",value:function(e){return new Promise(function(t,a){o.a.http({url:u.a.INTERFACE_URL,headers:h,data:e}).DELETE.then(function(e){t(e.data)}).catch(function(e){a(e)})})}},{key:"getNetworkList",value:function(){var e=Object(r.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetworkInterface();case 2:return t=e.sent,a=[],t.network_config.forEach(function(e){!1===e.use_dhcp&&a.push(e)}),e.abrupt("return",{interfaces:a,available_nics:t.available_nics});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAllWirelessInterface",value:function(){var e=Object(r.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetworkInterface();case 2:return t=e.sent,a=[],t.network_config.forEach(function(e){p.a.has(e,"access_point")&&a.push(e)}),e.abrupt("return",{interfaces:a,available_nics:t.available_nics});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getNetworkInterfaces",value:function(){var e=Object(r.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetworkInterface();case 2:return t=e.sent,a=[],t.forEach(function(e){if(!1===e.use_dhcp){if("vlan"===e.type){var t=e.device+"."+e.vlan_id;a.push(t)}a.push(e.name)}}),e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAllNetworkInterfaces",value:function(){var e=Object(r.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetworkInterface();case 2:return t=e.sent,a=[],t.network_config.forEach(function(e){if("vlan"===e.type){var t=e.device+"."+e.vlan_id;a.push(t)}else a.push(e.name)}),e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"startStopNetworkInterface",value:function(e){return new Promise(function(t,a){o.a.http({url:u.a.INTERFACE_URL+"/ifupdown/"+e,headers:h}).GET.then(function(e){t(e.data.message)}).catch(function(e){a(e)})})}}]),e}()},907:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(228),c=a(229),r=a(889),i=a(233),s=a(891),o=a(888),l=a.n(o),u={Authorization:"Basic "+Object(i.a)().authHeader},d=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"getDhcpConfig",value:function(e){return new Promise(function(t,a){r.a.http({url:s.a.DHCP_CONFIG_URL+"/"+e,headers:u}).GET.then(function(e){t(e.data)}).catch(function(e){a(e)})})}},{key:"removeFromDHCP",value:function(e){return new Promise(function(t,a){r.a.http({url:s.a.DHCP_CONFIG_URL,headers:u}).GET.then(function(a){var n=a.data.dhcp_config,c=Object.assign({},n),r=l.a.findIndex(n.dhcp_range,{interface:e}),i=l.a.findIndex(n.dhcp_option,{interface:e}),s=l.a.findIndex(n.interface,{name:e});-1!==s&&c.interface.splice(s,1),-1!==i&&c.dhcp_option.splice(i,1),-1!==r&&c.dhcp_range.splice(r,1),t(c)}).catch(function(e){a(e)})})}},{key:"getAllDhcpConfig",value:function(){return new Promise(function(e,t){r.a.http({url:s.a.DHCP_CONFIG_URL,headers:u}).GET.then(function(t){e(t.data)}).catch(function(e){t(e)})})}},{key:"updateDhcpConfig",value:function(e){return new Promise(function(t,a){r.a.http({url:s.a.DHCP_CONFIG_URL,headers:u,data:e}).POST.then(function(e){t(e.data.message)}).catch(function(e){a(e)})})}}]),e}()},910:function(e,t,a){"use strict";var n=a(35),c=a(100),r=a(3),i=a.n(r),s=a(112),o=a.n(s),l=a(886),u=a.n(l),d=a(887),p={tag:d.l,inverse:o.a.bool,color:o.a.string,body:o.a.bool,outline:o.a.bool,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},h=function(e){var t=e.className,a=e.cssModule,r=e.color,s=e.body,o=e.inverse,l=e.outline,p=e.tag,h=e.innerRef,f=Object(c.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),m=Object(d.h)(u()(t,"card",!!o&&"text-white",!!s&&"card-body",!!r&&(l?"border":"bg")+"-"+r),a);return i.a.createElement(p,Object(n.a)({},f,{className:m,ref:h}))};h.propTypes=p,h.defaultProps={tag:"div"},t.a=h},911:function(e,t,a){"use strict";var n=a(35),c=a(100),r=a(3),i=a.n(r),s=a(112),o=a.n(s),l=a(886),u=a.n(l),d=a(887),p={tag:d.l,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},h=function(e){var t=e.className,a=e.cssModule,r=e.innerRef,s=e.tag,o=Object(c.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.h)(u()(t,"card-body"),a);return i.a.createElement(s,Object(n.a)({},o,{className:l,ref:r}))};h.propTypes=p,h.defaultProps={tag:"div"},t.a=h},916:function(e,t,a){"use strict";var n=a(35),c=a(100),r=a(3),i=a.n(r),s=a(112),o=a.n(s),l=a(886),u=a.n(l),d=a(887),p={tag:d.l,className:o.a.string,cssModule:o.a.object},h=function(e){var t=e.className,a=e.cssModule,r=e.tag,s=Object(c.a)(e,["className","cssModule","tag"]),o=Object(d.h)(u()(t,"input-group-text"),a);return i.a.createElement(r,Object(n.a)({},s,{className:o}))};h.propTypes=p,h.defaultProps={tag:"span"},t.a=h},919:function(e,t,a){"use strict";var n=a(35),c=a(100),r=a(3),i=a.n(r),s=a(112),o=a.n(s),l=a(886),u=a.n(l),d=a(887),p={tabs:o.a.bool,pills:o.a.bool,vertical:o.a.oneOfType([o.a.bool,o.a.string]),horizontal:o.a.string,justified:o.a.bool,fill:o.a.bool,navbar:o.a.bool,card:o.a.bool,tag:d.l,className:o.a.string,cssModule:o.a.object},h=function(e){var t=e.className,a=e.cssModule,r=e.tabs,s=e.pills,o=e.vertical,l=e.horizontal,p=e.justified,h=e.fill,f=e.navbar,m=e.card,g=e.tag,_=Object(c.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),b=Object(d.h)(u()(t,f?"navbar-nav":"nav",!!l&&"justify-content-"+l,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(o),{"nav-tabs":r,"card-header-tabs":m&&r,"nav-pills":s,"card-header-pills":m&&s,"nav-justified":p,"nav-fill":h}),a);return i.a.createElement(g,Object(n.a)({},_,{className:b}))};h.propTypes=p,h.defaultProps={tag:"ul",vertical:!1},t.a=h},920:function(e,t,a){"use strict";var n=a(35),c=a(100),r=a(3),i=a.n(r),s=a(112),o=a.n(s),l=a(886),u=a.n(l),d=a(887),p={tag:d.l,active:o.a.bool,className:o.a.string,cssModule:o.a.object},h=function(e){var t=e.className,a=e.cssModule,r=e.active,s=e.tag,o=Object(c.a)(e,["className","cssModule","active","tag"]),l=Object(d.h)(u()(t,"nav-item",!!r&&"active"),a);return i.a.createElement(s,Object(n.a)({},o,{className:l}))};h.propTypes=p,h.defaultProps={tag:"li"},t.a=h},923:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var n=a(35),c=a(100),r=a(3),i=a.n(r),s=a(112),o=a.n(s),l=a(886),u=a.n(l),d=a(896),p=a(887),h={tag:p.l,className:o.a.string,cssModule:o.a.object,tabId:o.a.any};function f(e){var t=e.className,a=e.cssModule,r=e.tabId,s=e.tag,o=Object(c.a)(e,["className","cssModule","tabId","tag"]),l=function(e){return Object(p.h)(u()("tab-pane",t,{active:r===e}),a)};return i.a.createElement(d.a.Consumer,null,function(e){var t=e.activeTabId;return i.a.createElement(s,Object(n.a)({},o,{className:l(t)}))})}f.propTypes=h,f.defaultProps={tag:"div"}},924:function(e,t,a){"use strict";var n=a(35),c=a(100),r=a(893),i=a(63),s=a(3),o=a.n(s),l=a(112),u=a.n(l),d=a(886),p=a.n(d),h=a(887),f={tag:h.l,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),disabled:u.a.bool,active:u.a.bool,className:u.a.string,cssModule:u.a.object,onClick:u.a.func,href:u.a.any},m=function(e){function t(t){var a;return(a=e.call(this,t)||this).onClick=a.onClick.bind(Object(r.a)(a)),a}Object(i.a)(t,e);var a=t.prototype;return a.onClick=function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.active,i=e.tag,s=e.innerRef,l=Object(c.a)(e,["className","cssModule","active","tag","innerRef"]),u=Object(h.h)(p()(t,"nav-link",{disabled:l.disabled,active:r}),a);return o.a.createElement(i,Object(n.a)({},l,{ref:s,onClick:this.onClick,className:u}))},t}(o.a.Component);m.propTypes=f,m.defaultProps={tag:"a"},t.a=m},925:function(e,t,a){"use strict";var n=a(35),c=a(63),r=a(3),i=a.n(r),s=a(912),o=a(112),l=a.n(o),u=a(886),d=a.n(u),p=a(896),h=a(887),f={tag:h.l,activeTab:l.a.any,className:l.a.string,cssModule:l.a.object},m=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={activeTab:a.props.activeTab},a}return Object(c.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,a=e.cssModule,c=e.tag,r=Object(h.i)(this.props,Object.keys(f)),s=Object(h.h)(d()("tab-content",t),a);return i.a.createElement(p.a.Provider,{value:{activeTabId:this.state.activeTab}},i.a.createElement(c,Object(n.a)({},r,{className:s})))},t}(r.Component);Object(s.polyfill)(m),t.a=m,m.propTypes=f,m.defaultProps={tag:"div"}},926:function(e,t,a){"use strict";var n=a(35),c=a(100),r=a(3),i=a.n(r),s=a(112),o=a.n(s),l=a(886),u=a.n(l),d=a(887),p={tag:d.l,className:o.a.string,cssModule:o.a.object},h=function(e){var t=e.className,a=e.cssModule,r=e.tag,s=Object(c.a)(e,["className","cssModule","tag"]),o=Object(d.h)(u()(t,"card-header"),a);return i.a.createElement(r,Object(n.a)({},s,{className:o}))};h.propTypes=p,h.defaultProps={tag:"div"},t.a=h},931:function(e,t,a){"use strict";var n=a(35),c=a(100),r=a(3),i=a.n(r),s=a(112),o=a.n(s),l=a(886),u=a.n(l),d=a(887),p={children:o.a.node,row:o.a.bool,check:o.a.bool,inline:o.a.bool,disabled:o.a.bool,tag:d.l,className:o.a.string,cssModule:o.a.object},h=function(e){var t=e.className,a=e.cssModule,r=e.row,s=e.disabled,o=e.check,l=e.inline,p=e.tag,h=Object(c.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),f=Object(d.h)(u()(t,!!r&&"row",o?"form-check":"form-group",!(!o||!l)&&"form-check-inline",!(!o||!s)&&"disabled"),a);return i.a.createElement(p,Object(n.a)({},h,{className:f}))};h.propTypes=p,h.defaultProps={tag:"div"},t.a=h},932:function(e,t,a){"use strict";var n=a(35),c=a(100),r=a(3),i=a.n(r),s=a(112),o=a.n(s),l=a(886),u=a.n(l),d=a(899),p=a.n(d),h=a(887),f=o.a.oneOfType([o.a.number,o.a.string]),m=o.a.oneOfType([o.a.string,o.a.number,o.a.shape({size:f,order:f,offset:f})]),g={children:o.a.node,hidden:o.a.bool,check:o.a.bool,size:o.a.string,for:o.a.string,tag:h.l,className:o.a.string,cssModule:o.a.object,xs:m,sm:m,md:m,lg:m,xl:m,widths:o.a.array},_={tag:"label",widths:["xs","sm","md","lg","xl"]},b=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},v=function(e){var t=e.className,a=e.cssModule,r=e.hidden,s=e.widths,o=e.tag,l=e.check,d=e.size,f=e.for,m=Object(c.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),g=[];s.forEach(function(t,n){var c=e[t];if(delete m[t],c||""===c){var r,i=!n;if(p()(c)){var s,o=i?"-":"-"+t+"-";r=b(i,t,c.size),g.push(Object(h.h)(u()(((s={})[r]=c.size||""===c.size,s["order"+o+c.order]=c.order||0===c.order,s["offset"+o+c.offset]=c.offset||0===c.offset,s))),a)}else r=b(i,t,c),g.push(r)}});var _=Object(h.h)(u()(t,!!r&&"sr-only",!!l&&"form-check-label",!!d&&"col-form-label-"+d,g,!!g.length&&"col-form-label"),a);return i.a.createElement(o,Object(n.a)({htmlFor:f},m,{className:_}))};v.propTypes=g,v.defaultProps=_,t.a=v},941:function(e,t,a){"use strict";var n=a(35),c=a(100),r=a(3),i=a.n(r),s=a(112),o=a.n(s),l=a(886),u=a.n(l),d=a(887),p=a(916),h={tag:d.l,addonType:o.a.oneOf(["prepend","append"]).isRequired,children:o.a.node,className:o.a.string,cssModule:o.a.object},f=function(e){var t=e.className,a=e.cssModule,r=e.tag,s=e.addonType,o=e.children,l=Object(c.a)(e,["className","cssModule","tag","addonType","children"]),h=Object(d.h)(u()(t,"input-group-"+s),a);return"string"===typeof o?i.a.createElement(r,Object(n.a)({},l,{className:h}),i.a.createElement(p.a,{children:o})):i.a.createElement(r,Object(n.a)({},l,{className:h,children:o}))};f.propTypes=h,f.defaultProps={tag:"div"},t.a=f},946:function(e,t,a){"use strict";var n=a(35),c=a(100),r=a(908),i=a(3),s=a.n(i),o=a(112),l=a.n(o),u=a(886),d=a.n(u),p=a(887),h=a(915),f={children:l.a.node,className:l.a.string,closeClassName:l.a.string,closeAriaLabel:l.a.string,cssModule:l.a.object,color:l.a.string,fade:l.a.bool,isOpen:l.a.bool,toggle:l.a.func,tag:p.l,transition:l.a.shape(h.a.propTypes),innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},m={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(r.a)({},h.a.defaultProps,{unmountOnExit:!0})};function g(e){var t=e.className,a=e.closeClassName,i=e.closeAriaLabel,o=e.cssModule,l=e.tag,u=e.color,f=e.isOpen,m=e.toggle,g=e.children,_=e.transition,b=e.fade,v=e.innerRef,E=Object(c.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),y=Object(p.h)(d()(t,"alert","alert-"+u,{"alert-dismissible":m}),o),O=Object(p.h)(d()("close",a),o),k=Object(r.a)({},h.a.defaultProps,_,{baseClass:b?_.baseClass:"",timeout:b?_.timeout:0});return s.a.createElement(h.a,Object(n.a)({},E,k,{tag:l,className:y,in:f,role:"alert",innerRef:v}),m?s.a.createElement("button",{type:"button",className:O,"aria-label":i,onClick:m},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,g)}g.propTypes=f,g.defaultProps=m,t.a=g},971:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(228),c=a(229),r=a(891),i=a(233),s=a(889),o={Authorization:"Basic "+Object(i.a)().authHeader},l=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"getServerLog",value:function(e){return new Promise(function(t,a){s.a.http({url:r.a.LOG_URL+"/"+e,headers:o}).GET.then(function(e){t(e.data)}).catch(function(e){a(e)})})}}]),e}()}}]);