(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1241:function(e,t,n){"use strict";n.r(t);var a=n(228),r=n(229),o=n(231),c=n(230),i=n(232),s=n(3),u=n.n(s),l=n(981),m=n(920),h=n(921),d=n(1025),f=n(922),p=n(923),E=n(982),w=n(983),O=n(1026),v=n(946),b=n(984),y=n(943),g=n(945),j=n(233),k=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).login=function(e,t){g.a.login(e,t).then(function(e){e&&(window.location.href="#/dashboard")}).catch(function(e){n.setState({error:"Invalid login credentials."})})},n.state={username:"",password:"",error:""},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object.assign({},Object(j.a)());if(e.hasOwnProperty("username")&&"admin"===e.username)return window.location.href="#/dashboard"}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"app flex-row align-items-center"},u.a.createElement(l.a,null,u.a.createElement(m.a,{className:"justify-content-center"},u.a.createElement(h.a,{md:"8"},u.a.createElement(d.a,null,u.a.createElement(f.a,{className:"p-4"},u.a.createElement(p.a,null,u.a.createElement(E.a,null,u.a.createElement("h1",null,"Login"),u.a.createElement("p",{className:"text-muted"},"Sign In to your account"),u.a.createElement(w.a,{className:"mb-3"},u.a.createElement(O.a,{addonType:"prepend"},u.a.createElement(v.a,null,u.a.createElement("i",{className:"icon-user"}))),u.a.createElement(b.a,{type:"text",placeholder:"Username",autoComplete:"username",onChange:function(t){e.setState({username:t.target.value})}})),u.a.createElement(w.a,{className:"mb-4"},u.a.createElement(O.a,{addonType:"prepend"},u.a.createElement(v.a,null,u.a.createElement("i",{className:"icon-lock"}))),u.a.createElement(b.a,{type:"password",placeholder:"Password",autoComplete:"current-password",onChange:function(t){e.setState({password:t.target.value})}})),u.a.createElement("p",{className:"text-danger text-right"},this.state.error),u.a.createElement(m.a,null,u.a.createElement(h.a,{xs:"12",className:"text-right"},u.a.createElement(y.a,{color:"primary",className:"px-4",onClick:function(t){return e.login(e.state.username,e.state.password)}},"Login")),u.a.createElement(h.a,{xs:"6",className:"text-right"}))))))))))}}]),t}(s.Component);t.default=k},892:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return d});var a=n(915),r=n(228),o=n(229),c=n(907),i=n.n(c),s=n(903),u=n.n(s),l=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,null,[{key:"http",value:function(e){return new m(e)}},{key:"handleResponse",value:function(e){return new Promise(function(t,n){[401,403].includes(e.status)||t(e),[401,403].includes(e.status)?window.location.reload():t(e),t(e)})}},{key:"renderDateFormat",value:function(e){return u()(e).format("MMMM D, YYYY h:mm A")}}]),e}(),m=function(){function e(t){Object(r.a)(this,e),this.options=t}return Object(o.a)(e,[{key:"GET",get:function(){var e=this.options,t=Object(a.a)({},e.headers);return new Promise(function(n,a){i.a.get(e.url,{headers:t}).then(function(e){n(e)}).catch(function(e){a(e)})})}},{key:"POST",get:function(){var e={method:"POST",url:this.options.url,data:this.options.data,headers:Object(a.a)({},this.options.headers)};return new Promise(function(t,n){i.a.request(e).then(function(e){t(e)}).catch(function(e){n(e)})})}},{key:"DELETE",get:function(){var e={method:"DELETE",url:this.options.url,data:this.options.data,headers:Object(a.a)({},this.options.headers)};return new Promise(function(t,n){i.a.request(e).then(function(e){t(e)}).catch(function(e){n(e)})})}},{key:"PUT",get:function(){var e={method:"PUT",url:this.options.url,data:this.options.data,headers:Object(a.a)({},this.options.headers)};return new Promise(function(t,n){i.a.request(e).then(function(e){t(e)}).catch(function(e){n(e)})})}}]),e}(),h=l,d=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,null,[{key:"isEmpty",value:function(t){return"object"===typeof t?e.isEmptyObject(t):!t||"undefined"===t||""==t||" "==t||null===t}},{key:"isEmptyObject",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"removeNullKey",value:function(e){var t=Object.assign({},e);for(var n in t)t.hasOwnProperty(n)&&this.isEmpty(t[n])&&delete t[n];return t}}]),e}()},893:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a="http://localhost:5000/",r={LOGIN_URL:a+"api/admin/authenticate",DEVICE_URL:a+"api/device",VOUCHER_URL:a+"api/voucher",ADMIN_URL:a+"api/admin",MACHINE_URL:a+"api/machine",ROUTER_URL:a+"api/router",LOG_URL:a+"api/logs",COINSLOT_URL:a+"api/coinslot",WS_URL:"ws://localhost:5000/socket"}},945:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(228),r=n(229),o=n(892),c=n(893),i=n(233),s=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"login",value:function(e,t){return new Promise(function(n,a){o.a.http({url:c.a.LOGIN_URL,data:{username:e,password:t}}).POST.then(function(a){if(a){var r=a.data;r.authHeader=window.btoa("".concat(e,":").concat(t)),sessionStorage.setItem("user",JSON.stringify(r))}n(!0)}).catch(function(e){a(e)})})}},{key:"logout",value:function(){sessionStorage.removeItem("user"),window.location.href="#/login"}},{key:"changePassword",value:function(e){return new Promise(function(t,n){o.a.http({url:c.a.ADMIN_URL+"/password",data:{password:e},headers:{Authorization:"Basic "+Object(i.a)().authHeader}}).POST.then(function(e){e&&t(!0)}).catch(function(e){n(e)})})}}]),e}()}}]);