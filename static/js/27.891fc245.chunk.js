(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1046:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return l});var n=a(228),c=a(229),r=a(891),i=("undefined"!==typeof window?window:"undefined"!==typeof e?e:{}).document,l=function(){function e(){Object(n.a)(this,e),this._iframe=i.createElement("iframe"),this._iframe.style.display="block",this._iframe.style.height="500px",this._iframe.style.width="100%",this._iframe.src=r.a.APT_LOG}return Object(c.a)(e,[{key:"load",value:function(e){var t=this;return new Promise(function(a){t._iframe.onload=function(){a()},e.appendChild(t._iframe)})}},{key:"unload",value:function(){}}]),e}()}).call(this,a(113))},1072:function(e,t,a){"use strict";a.r(t);var n=a(235),c=a(900),r=a(228),i=a(229),l=a(231),s=a(230),o=a(236),u=a(232),m=a(3),d=a.n(m),h=a(919),f=a(920),p=a(924),E=a(925),g=a(886),v=a.n(g),b=(a(906),a(901)),w=a(892),y=a.n(w),k=a(888),N=a.n(k),O=a(923),P=a(1043),L=a(1044),R=(a(894),a(895),function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(s.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.machinedata;return d.a.createElement(O.a,{tabId:"1"},d.a.createElement("h2",null,"WAN"),d.a.createElement(P.a,{className:"list-group-accent",tag:"div"},d.a.createElement(L.a,{className:"list-group-item-accent-secondary bg-light text-center font-weight-bold text-muted text-uppercase small"},"DETAILS"),d.a.createElement(L.a,{action:!0,tag:"div",className:"list-group-item-accent-warning list-group-item-divider"},d.a.createElement("div",null,d.a.createElement("strong",null,"Public IP")),d.a.createElement("p",{className:"text-muted mr-3"},d.a.createElement("i",{className:"fa fa-server"}),"\xa0 ",t.publicip)),d.a.createElement(L.a,{action:!0,tag:"div",className:"list-group-item-accent-warning list-group-item-divider"},d.a.createElement("div",null,d.a.createElement("strong",null,"Router Address")),d.a.createElement("p",{className:"text-muted mr-3"},d.a.createElement("i",{className:"fa fa-server"}),"\xa0 ",t.ipaddress)),d.a.createElement(L.a,{action:!0,tag:"div",className:"list-group-item-accent-info list-group-item-divider"},d.a.createElement("div",null,d.a.createElement("strong",null,"Gateway")),d.a.createElement("p",{className:"text-muted mr-6"},d.a.createElement("i",{className:"fa fa-server"}),"\xa0 ",t.gateway)),d.a.createElement(L.a,{action:!0,tag:"div",className:"list-group-item-accent-warning list-group-item-divider"},d.a.createElement("div",null,d.a.createElement("strong",null,"Hostname")),d.a.createElement("p",{className:"text-muted mr-6"},d.a.createElement("i",{className:"fa fa-server"}),"\xa0 ",t.host))),d.a.createElement("br",null),d.a.createElement("h2",null,"Network"),d.a.createElement(P.a,{className:"list-group-accent",tag:"div"},d.a.createElement(L.a,{className:"list-group-item-accent-secondary bg-light text-center font-weight-bold text-muted text-uppercase small"},"DETAILS"),a.fetching?a.network.map(function(e,t){var a=Object.keys(e);return d.a.createElement(L.a,{key:t,action:!0,tag:"div",className:"list-group-item-accent-warning list-group-item-divider"},d.a.createElement("div",null,d.a.createElement("strong",null,a.toString().toUpperCase())),d.a.createElement("p",{className:"text-muted mr-3"},d.a.createElement("i",{className:"fa fa-server"}),"\xa0 Speed: ",e[a].stats.speed,"\xa0 Duplex: ",e[a].stats.duplex,"\xa0 MTU: ",e[a].stats.mtu,"\xa0 UP: ",e[a].stats.up),d.a.createElement("p",{className:"text-muted mr-3"},d.a.createElement("i",{className:"fa fa-server"}),"\xa0 Incoming Bytes: ",e[a].incoming.bytes,"\xa0 Incoming Packets: ",e[a].incoming.packets,"\xa0 Incoming Errors: ",e[a].incoming.errors,"\xa0 Incoming Drops: ",e[a].incoming.drops),d.a.createElement("p",{className:"text-muted mr-3"},d.a.createElement("i",{className:"fa fa-server"}),"\xa0 Outgoing Bytes: ",e[a].outgoing.bytes,"\xa0 Outgoing Packets: ",e[a].outgoing.packets,"\xa0 Outgoing Errors: ",e[a].outgoing.errors,"\xa0 Outgoing Drops: ",e[a].outgoing.drops),d.a.createElement("p",{className:"text-muted mr-3"},d.a.createElement("i",{className:"fa fa-server"}),"\xa0 Addresses:",e[a].address.map(function(e,t){var a=Object.keys(e);return d.a.createElement(d.a.Fragment,null,d.a.createElement("small",null,d.a.createElement("strong",null,a.toString().toUpperCase()),"\xa0"),d.a.createElement("small",null,d.a.createElement("strong",null,"Address: ",e[a].address),"\xa0"),d.a.createElement("small",null,d.a.createElement("strong",null,"Broadcast: ",e[a].broadcast),"\xa0"),d.a.createElement("small",null,d.a.createElement("strong",null,"Netmask: ",e[a].netmask),"\xa0"))})))}):d.a.createElement("h3",null,"Fetching data. Please wait...")),d.a.createElement("br",null))}}]),t}(m.Component)),T=a(936),C=a(1065),U=function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(s.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.machinedata;return d.a.createElement(O.a,{tabId:"3",className:"p-3"},d.a.createElement("h2",null,"Machine"),d.a.createElement("div",{className:"aside-options"},d.a.createElement("div",{className:"clearfix mt-4"},d.a.createElement("small",null,d.a.createElement("b",null,"Shutdown the machine")),d.a.createElement(T.a,{onClick:this.props.shutdown,className:"float-right btn btn-danger"},"Shutdown")),d.a.createElement("div",null,d.a.createElement("small",{className:"text-muted"},"Properly shutdown the machine."))),d.a.createElement("div",{className:"aside-options"},d.a.createElement("div",{className:"clearfix mt-3"},d.a.createElement("small",null,d.a.createElement("b",null,"Restart the machine")),d.a.createElement(T.a,{onClick:this.props.reboot,className:"float-right btn btn-danger"},"\xa0\xa0\xa0Restart\xa0\xa0")),d.a.createElement("div",null,d.a.createElement("small",{className:"text-muted"},"You will be disconnected after you restart the machine."))),d.a.createElement("hr",null),d.a.createElement("h6",null,"System Utilization"),e.fetching?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"text-uppercase mb-1 mt-4"},d.a.createElement("small",null,d.a.createElement("b",null,"CPU Usage"))),d.a.createElement(C.a,{className:"progress-xs",color:"info",value:Math.floor(e.cpu.cpupercentage)}),d.a.createElement("small",{className:"text-muted"},e.cpu.cpucount," Cores.\xa0",e.cpu.currentfreq," Current Frequency.\xa0",e.cpu.maxfreq," Max Frequency.\xa0",e.cpu.minfreq," Min Frequency.\xa0"),d.a.createElement("div",{className:"text-uppercase mb-1 mt-2"},d.a.createElement("small",null,d.a.createElement("b",null,"Memory Usage"))),d.a.createElement(C.a,{className:"progress-xs",color:"warning",value:Math.floor(e.memory.percentage)}),d.a.createElement("small",{className:"text-muted"},e.memory.used,"/",e.memory.total,"\xa0",e.memory.percentage," Percent.\xa0",e.memory.available," Available.\xa0",e.memory.free," Free.\xa0"),d.a.createElement("div",{className:"text-uppercase mb-1 mt-2"},d.a.createElement("small",null,d.a.createElement("b",null,"SSD Usage"))),d.a.createElement(C.a,{className:"progress-xs",color:"danger",value:Math.floor(parseInt(e.disk.free.replace("M","")))}),d.a.createElement("small",{className:"text-muted"},e.disk.used,"/",e.disk.total,"\xa0",e.disk.free," Free.\xa0"),d.a.createElement("div",{className:"text-uppercase mb-1 mt-2"},d.a.createElement("small",null,d.a.createElement("b",null,"Temperature"))),d.a.createElement("small",{className:"text-muted"},e.temperature.temperature[0].current," Current.\xa0",e.temperature.temperature[0].high," High.\xa0",e.temperature.temperature[0].critical," Critical.\xa0"),0!==e.temperature.fans.length?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"text-uppercase mb-1 mt-2"},d.a.createElement("small",null,d.a.createElement("b",null,"Fan"))),d.a.createElement("small",{className:"text-muted"},e.temperature.fans[0].current," Current.\xa0")):"",null!==e.temperature.battery?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"text-uppercase mb-1 mt-2"},d.a.createElement("small",null,d.a.createElement("b",null,"Battery"))),d.a.createElement("small",{className:"text-muted"},e.temperature.battery.charge," Charge.\xa0",e.temperature.battery.status," Status.\xa0",e.temperature.battery.pluggedin," Pluggedin.\xa0",e.temperature.battery.left," Left.\xa0")):""):d.a.createElement("h4",null,"Fetching data. Please wait..."))}}]),t}(m.Component),x=a(921),S=a(922),j=a(938),_=a(1046),D=a(891),A=a(233),I=a(889),M={Authorization:"Basic "+Object(A.a)().authHeader},B=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"getPackages",value:function(){return new Promise(function(e,t){I.a.http({url:D.a.PACKAGE_URL,headers:M}).GET.then(function(t){e(t.data)}).catch(function(e){t(e)})})}},{key:"installPackages",value:function(e){return new Promise(function(t,a){I.a.http({url:D.a.PACKAGE_URL,headers:M,data:e}).POST.then(function(e){t(e.data)}).catch(function(e){a(e)})})}}]),e}(),G=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).getPackages=function(){a.packageService.getPackages().then(function(e){a.setState({packages:e})}).catch(function(e){console.error(e)})},a.installPackage=function(e){var t="install"===e.action?"Install":"Uninstall";y.a.fire({title:"".concat(t),text:"Are you sure?",cancelButtonText:"No",showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm:function(){a.packageService.installPackages(e).then(function(e){y.a.fire("Success"),a.getPackages(),a.unloadAptLog()}).catch(function(e){console.error(e)}),a.loadAptLog()}})},a.loadAptLog=function(){setTimeout(function(){var e=document.getElementById("aptIframe");(new _.a).load(e)},2500)},a.unloadAptLog=function(){setTimeout(function(){var e=document.getElementById("aptIframe");e.removeChild(e.childNodes[0])},5e3)},a.packageService=new B,a.state={packages:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getPackages()}},{key:"render",value:function(){var e=this,t=this.state.packages;return d.a.createElement(O.a,{tabId:"4",className:"p-3"},d.a.createElement(x.a,null,d.a.createElement(S.a,{lg:"12"},d.a.createElement(j.a,{responsive:!0},d.a.createElement("th",{className:"text-center"},"Package Name"),d.a.createElement("th",{className:"text-center"},"Description"),d.a.createElement("th",{className:"text-center"},"Action"),d.a.createElement("tbody",null,N.a.isArray(t)&&!N.a.isEmpty(t)?N.a.map(t,function(t,a){return d.a.createElement("tr",null,d.a.createElement("td",{className:"text-center"},t.name),d.a.createElement("td",{className:"text-left"},t.description),d.a.createElement("td",{className:"text-center"},t.status?d.a.createElement("button",{type:"button",className:"btn btn-danger action-btn-wifi",onClick:function(a){return e.installPackage({package_name:t.name,status:!1,action:"uninstall"})}},d.a.createElement("i",{className:"fa fa-trash"}),d.a.createElement("span",null,"\xa0Uninstall")):d.a.createElement("button",{type:"button",className:"btn btn-success action-btn-wifi",onClick:function(a){return e.installPackage({package_name:t.name,status:!0,action:"install"})}},d.a.createElement("i",{className:"fa fa-inbox"}),d.a.createElement("span",null,"\xa0Install"))))}):""))),d.a.createElement(S.a,{lg:"12"},d.a.createElement("div",{id:"aptIframe"}))))}}]),t}(m.Component),F=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).getMachineDetails=function(){a.routerService.getMachineDetails().then(function(e){e&&a.setState({machineDetails:Object(c.a)({fetching:!0},e)})}).catch(function(e){console.error(e)})},a.getWanGateway=function(){a.routerService.getWanGateway().then(function(e){a.setState({wanDetails:e})}).catch(function(e){console.error(e)})},a.initiateShutdown=function(){y.a.fire({title:"Shutdown",text:"Are you sure you want to shutdown the machine? You will be disconnected if you do so.",confirmButtonText:"Shutdown",cancelButtonText:"Cancel",showCancelButton:!0,preConfirm:function(){return a.routerService.shutdown().then(function(e){return e}).catch(function(e){y.a.fire("Response","Machine shutdown.","success")})}}).then(function(e){e.value&&y.a.fire("Response","Machine shutdown.","success")})},a.initiateReboot=function(){y.a.fire({title:"Reboot",text:"Are you sure you want to restart the machine? You will be disconnected if you do so.",confirmButtonText:"Reboot",cancelButtonText:"Cancel",showCancelButton:!0,preConfirm:function(){return a.routerService.restart().then(function(e){return e}).catch(function(e){y.a.fire("Response","Rebooted.","success")})}}).then(function(e){e.value&&y.a.fire("Response","Rebooted.","success")})},a.routerService=new b.a,a.toggle=a.toggle.bind(Object(o.a)(a)),a.state={activeTab:"1",access_point:"",users:"",bandwith:"",time:1,timeword:"minutes",currency:1,pulse:1,coinslots:[],modal:!1,coinslotData:{},wanDetails:{},machineDetails:{fetching:!1}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getMachineDetails(),this.getWanGateway()}},{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){var e=this,t=(this.state.coinslots,this.props);t.children,Object(n.a)(t,["children"]);return d.a.createElement(d.a.Fragment,null,d.a.createElement(h.a,{tabs:!0},d.a.createElement(f.a,null,d.a.createElement(p.a,{className:v()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")}},d.a.createElement("i",{className:"fa fa-server"}),"\xa0 Wan")),d.a.createElement(f.a,null,d.a.createElement(p.a,{className:v()({active:"3"===this.state.activeTab}),onClick:function(){e.toggle("3")}},d.a.createElement("i",{className:"icon-settings"}),"\xa0 Machine")),d.a.createElement(f.a,null,d.a.createElement(p.a,{className:v()({active:"4"===this.state.activeTab}),onClick:function(){e.toggle("4")}},d.a.createElement("i",{className:"icon-basket"}),"\xa0 Packages"))),d.a.createElement(E.a,{activeTab:this.state.activeTab},d.a.createElement(R,{data:this.state.wanDetails,machinedata:this.state.machineDetails}),d.a.createElement(U,{shutdown:this.initiateShutdown,reboot:this.initiateReboot,machinedata:this.state.machineDetails}),d.a.createElement(G,null)))}}]),t}(m.Component);F.defaultProps={};t.default=F},889:function(e,t,a){"use strict";a.d(t,"a",function(){return f}),a.d(t,"b",function(){return p});var n=a(900),c=a(228),r=a(229),i=a(904),l=a.n(i),s=a(903),o=a.n(s),u=a(905),m=function(){function e(){Object(c.a)(this,e),this.parser=new u.UAParser}return Object(r.a)(e,[{key:"getDeviceName",value:function(){var e=this.parser.getDevice().vendor||"",t=this.parser.getDevice().model||"",a=this.parser.getDevice().type||"";return"".concat(e," ").concat(t," ").concat(a)}},{key:"getDeviceOS",value:function(){return this.parser.getOS().name+" "+this.parser.getOS().version}},{key:"getDeviceCPU",value:function(){return this.parser.getCPU()}},{key:"getDeviceEngine",value:function(){return this.parser.getEngine()}}]),e}(),d=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,null,[{key:"http",value:function(e){return new h(e)}},{key:"getDeviceDetails",value:function(){return new m}},{key:"handleResponse",value:function(e){return new Promise(function(t,a){[401,403].includes(e.status)||t(e),[401,403].includes(e.status)?window.location.reload():t(e),t(e)})}},{key:"renderDateFormat",value:function(e){return o()(e).format("MMMM D, YYYY h:mm A")}}]),e}(),h=function(){function e(t){Object(c.a)(this,e),this.options=t}return Object(r.a)(e,[{key:"GET",get:function(){var e=this.options,t=Object(n.a)({},e.headers);return new Promise(function(a,n){l.a.get(e.url,{headers:t}).then(function(e){a(e)}).catch(function(e){n(e)})})}},{key:"POST",get:function(){var e={method:"POST",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){l.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}},{key:"DELETE",get:function(){var e={method:"DELETE",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){l.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}},{key:"PUT",get:function(){var e={method:"PUT",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){l.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}}]),e}(),f=d,p=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,null,[{key:"isEmpty",value:function(t){return"object"===typeof t?e.isEmptyObject(t):!t||"undefined"===t||""==t||" "==t||null===t}},{key:"isEmptyObject",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"removeNullKey",value:function(e){var t=Object.assign({},e);for(var a in t)t.hasOwnProperty(a)&&this.isEmpty(t[a])&&delete t[a];return t}}]),e}()},891:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n="http://".concat(window.location.hostname,"/"),c="ws://".concat(window.location.hostname,":5000/socket"),r={LOGIN_URL:n+"api/admin/authenticate",DEVICE_URL:n+"api/device",VOUCHER_URL:n+"api/voucher",ADMIN_URL:n+"api/admin",MACHINE_URL:n+"api/machine",ROUTER_URL:n+"api/router",LOG_URL:n+"api/logs",COINSLOT_URL:n+"api/coinslot",BANDWIDTH_URL:n+"api/bandwidth",SOFTWARE_URL:n+"api/software",BLOCKED_URL:n+"api/blocked",CAPTIVE_PORTAL_URL:n+"api/captive/portal",DHCP_CONFIG_URL:n+"api/dhcp/config",INTERFACE_URL:n+"api/network/interface",FIREWALL_URL:n+"api/firewall",WIRELESSAP_URL:n+"api/wireless",PACKAGE_URL:n+"api/package/management",APT_LOG:"http://".concat(window.location.hostname,":5000/api/apt/log"),CAPTIVE_PORTAL:"http://pi.konek:5001",WS_URL:c}},901:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(228),c=a(229),r=a(891),i=a(233),l=a(889),s={Authorization:"Basic "+Object(i.a)().authHeader},o=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"getBlockedList",value:function(){return new Promise(function(e,t){l.a.http({url:r.a.BLOCKED_URL,headers:s}).GET.then(function(t){e(t.data)}).catch(function(e){t(e)})})}},{key:"updatedCustomList",value:function(e){return new Promise(function(t,a){l.a.http({url:r.a.BLOCKED_URL,data:e,headers:s}).POST.then(function(e){t(e.data)}).catch(function(e){a(e)})})}},{key:"updateList",value:function(){return new Promise(function(e,t){l.a.http({url:r.a.BLOCKED_URL,data:null,headers:s}).PUT.then(function(t){e(t.data)}).catch(function(e){t(e)})})}},{key:"getMachineDetails",value:function(){return new Promise(function(e,t){l.a.http({url:r.a.MACHINE_URL+"/detail",headers:s}).GET.then(function(t){e(t.data)}).catch(function(e){t(e)})})}},{key:"uploadLicenseFile",value:function(e){return new Promise(function(t,a){l.a.http({url:r.a.SOFTWARE_URL,headers:s,data:e}).POST.then(function(e){t(e.data)}).catch(function(e){a(e)})})}},{key:"addGlobalBandwidthlimit",value:function(e){return new Promise(function(t,a){l.b.isEmpty(e)&&a("Please input required data"),l.a.http({url:r.a.BANDWIDTH_URL+"/global",data:e,headers:s}).POST.then(function(e){t(e.data.message)}).catch(function(e){a(e)})})}},{key:"removeGlobalBandwidthlimit",value:function(e){return new Promise(function(t,a){l.b.isEmpty(e)&&a("Please input required data"),l.a.http({url:r.a.BANDWIDTH_URL+"/global",data:e,headers:s}).DELETE.then(function(e){t(e.data.message)}).catch(function(e){a(e)})})}},{key:"updateCoinSlot",value:function(e){return new Promise(function(t,a){l.b.isEmpty(e)&&a("Please input required data"),l.a.http({url:r.a.COINSLOT_URL,data:e,headers:s}).PUT.then(function(e){t(e.data.message)}).catch(function(e){a(e)})})}},{key:"getCoinSlot",value:function(){return new Promise(function(e,t){l.a.http({url:r.a.COINSLOT_URL,headers:s}).GET.then(function(t){e(t.data)}).catch(function(e){t(e)})})}},{key:"getSoftware",value:function(){return new Promise(function(e,t){l.a.http({url:r.a.SOFTWARE_URL,headers:s}).GET.then(function(t){e(t.data)}).catch(function(e){t(e)})})}},{key:"updateSoftware",value:function(){return new Promise(function(e,t){l.a.http({url:r.a.SOFTWARE_URL,headers:s}).PUT.then(function(t){e(t.data)}).catch(function(e){t(e)})})}},{key:"getWanGateway",value:function(){return new Promise(function(e,t){l.a.http({url:r.a.ROUTER_URL+"/gateway",headers:s}).GET.then(function(t){e(t.data)}).catch(function(e){t(e)})})}},{key:"shutdown",value:function(){return new Promise(function(e,t){l.a.http({url:r.a.MACHINE_URL+"/shutdown",headers:s}).GET.then(function(t){e(t.data)}).catch(function(e){t(e)})})}},{key:"restart",value:function(){return new Promise(function(e,t){l.a.http({url:r.a.MACHINE_URL+"/reboot",headers:s}).GET.then(function(t){e(t.data)}).catch(function(e){t(e)})})}}]),e}()}}]);