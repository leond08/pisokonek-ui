(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1004:function(e,t,a){"use strict";var n=a(35),r=a(100),c=a(3),o=a.n(c),s=a(112),i=a.n(s),u=a(886),l=a.n(u),d=a(887),f={tag:d.l,className:i.a.string,cssModule:i.a.object},h=function(e){var t=e.className,a=e.cssModule,c=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),i=Object(d.h)(l()(t,"card-header"),a);return o.a.createElement(c,Object(n.a)({},s,{className:i}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},1005:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(228),r=a(229),c=a(892),o=a(233),s=a(893),i=a(904),u=a.n(i),l={Authorization:"Basic "+Object(o.a)().authHeader},d=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getVouchers",value:function(){return new Promise(function(e,t){c.a.http({url:s.a.VOUCHER_URL+"/all",headers:l}).GET.then(function(t){t&&(u.a.isArray(t.data)&&!u.a.isEmpty(t.data)?e(t.data):e([]))}).catch(function(e){t(e)})})}},{key:"generateVoucher",value:function(e){return new Promise(function(t,a){c.b.isEmpty(e)&&t("Invalid payload."),c.a.http({url:s.a.VOUCHER_URL,headers:l,data:e}).POST.then(function(e){t(e.data.voucher)}).catch(function(e){a(e)})})}},{key:"deleteVoucher",value:function(e){return new Promise(function(t,a){c.a.http({url:"".concat(s.a.VOUCHER_URL,"/").concat(e),headers:l}).DELETE.then(function(e){t(e.data.message)}).catch(function(e){a(e)})})}},{key:"useVoucher",value:function(e){return new Promise(function(t,a){c.a.http({url:"".concat(s.a.VOUCHER_URL,"/").concat(e)}).GET.then(function(e){t(e.data.message)}).catch(function(e){a(e)})})}}]),e}()},1065:function(e,t,a){"use strict";var n=a(35),r=a(100),c=a(3),o=a.n(c),s=a(112),i=a.n(s),u=a(886),l=a.n(u),d=a(887),f={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:d.l,responsiveTag:d.l,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},h=function(e){var t=e.className,a=e.cssModule,c=e.size,s=e.bordered,i=e.borderless,u=e.striped,f=e.dark,h=e.hover,m=e.responsive,b=e.tag,p=e.responsiveTag,v=e.innerRef,g=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),E=Object(d.h)(l()(t,"table",!!c&&"table-"+c,!!s&&"table-bordered",!!i&&"table-borderless",!!u&&"table-striped",!!f&&"table-dark",!!h&&"table-hover"),a),O=o.a.createElement(b,Object(n.a)({},g,{ref:v,className:E}));if(m){var y=Object(d.h)(!0===m?"table-responsive":"table-responsive-"+m,a);return o.a.createElement(p,{className:y},O)}return O};h.propTypes=f,h.defaultProps={tag:"table",responsiveTag:"div"},t.a=h},1252:function(e,t,a){"use strict";a.r(t);var n=a(228),r=a(229),c=a(231),o=a(230),s=a(232),i=a(3),u=a.n(i),l=a(920),d=a(921),f=a(922),h=a(1004),m=a(923),b=a(1065),p=a(904),v=a.n(p),g=a(1005),E=a(908),O=a.n(E),y=a(892),j=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).deleteVoucher=function(e){a.voucherService.deleteVoucher(e).then(function(e){e?(O.a.fire("Success","Voucher deleted.","success"),a.getVouchers()):O.a.fire("Error","Voucher not deleted. Please try again","error")}).catch(function(e){O.a.fire("Oops!","Something went wrong. Please try again","error")})},a.getVouchers=function(){a.voucherService.getVouchers().then(function(e){e&&a.setState({vouchers:e})}).catch(function(e){console.error(e)})},a.voucherService=new g.a,a.state={vouchers:[]},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getVouchers()}},{key:"render",value:function(){var e=this,t=this.state.vouchers;return u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(l.a,null,u.a.createElement(d.a,{lg:12},u.a.createElement(f.a,null,u.a.createElement(h.a,null,"Manage Vouchers"),u.a.createElement(m.a,null,u.a.createElement(b.a,{responsive:!0,striped:!0,hover:!0},u.a.createElement("th",{className:"text-center"},"Voucher Code"),u.a.createElement("th",{className:"text-center"},"No."),u.a.createElement("th",{className:"text-center"},"Name"),u.a.createElement("th",{className:"text-center"},"Date Generated"),u.a.createElement("th",{className:"text-center"},"Status"),u.a.createElement("th",{className:"text-center"},"Action"),u.a.createElement("tbody",null,v.a.isArray(t)&&!v.a.isEmpty(t)?v.a.map(t,function(t,a){return u.a.createElement("tr",{key:a},u.a.createElement("td",{className:"text-center"},t.vouchercode),u.a.createElement("td",{className:"text-center"},t.rangedays),u.a.createElement("td",{className:"text-center"},t.date),u.a.createElement("td",{className:"text-center"},y.a.renderDateFormat(t.generateddate)),u.a.createElement("td",{className:"text-center"},u.a.createElement("span",{class:"badge badge-danger"},t.status)),u.a.createElement("td",{className:"text-center"},u.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(a){e.deleteVoucher(t.vouchercode)}},u.a.createElement("i",{class:"fa fa-remove"}),"\xa0Remove")))}):u.a.createElement("tr",{colSpan:6},u.a.createElement("td",{colSpan:6},u.a.createElement("p",{className:"text-muted text-center"},"Nothing to show."))))))))))}}]),t}(i.Component);t.default=j},892:function(e,t,a){"use strict";a.d(t,"a",function(){return f}),a.d(t,"b",function(){return h});var n=a(915),r=a(228),c=a(229),o=a(907),s=a.n(o),i=a(903),u=a.n(i),l=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"http",value:function(e){return new d(e)}},{key:"handleResponse",value:function(e){return new Promise(function(t,a){[401,403].includes(e.status)||t(e),[401,403].includes(e.status)?window.location.reload():t(e),t(e)})}},{key:"renderDateFormat",value:function(e){return u()(e).format("MMMM D, YYYY h:mm A")}}]),e}(),d=function(){function e(t){Object(r.a)(this,e),this.options=t}return Object(c.a)(e,[{key:"GET",get:function(){var e=this.options,t=Object(n.a)({},e.headers);return new Promise(function(a,n){s.a.get(e.url,{headers:t}).then(function(e){a(e)}).catch(function(e){n(e)})})}},{key:"POST",get:function(){var e={method:"POST",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){s.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}},{key:"DELETE",get:function(){var e={method:"DELETE",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){s.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}},{key:"PUT",get:function(){var e={method:"PUT",url:this.options.url,data:this.options.data,headers:Object(n.a)({},this.options.headers)};return new Promise(function(t,a){s.a.request(e).then(function(e){t(e)}).catch(function(e){a(e)})})}}]),e}(),f=l,h=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"isEmpty",value:function(t){return"object"===typeof t?e.isEmptyObject(t):!t||"undefined"===t||""==t||" "==t||null===t}},{key:"isEmptyObject",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"removeNullKey",value:function(e){var t=Object.assign({},e);for(var a in t)t.hasOwnProperty(a)&&this.isEmpty(t[a])&&delete t[a];return t}}]),e}()},893:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n="http://localhost:5000/",r={LOGIN_URL:n+"api/admin/authenticate",DEVICE_URL:n+"api/device",VOUCHER_URL:n+"api/voucher",ADMIN_URL:n+"api/admin",MACHINE_URL:n+"api/machine",ROUTER_URL:n+"api/router",LOG_URL:n+"api/logs",COINSLOT_URL:n+"api/coinslot",WS_URL:"ws://localhost:5000/socket"}},895:function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},920:function(e,t,a){"use strict";var n=a(35),r=a(100),c=a(3),o=a.n(c),s=a(112),i=a.n(s),u=a(886),l=a.n(u),d=a(887),f={tag:d.l,noGutters:i.a.bool,className:i.a.string,cssModule:i.a.object,form:i.a.bool},h=function(e){var t=e.className,a=e.cssModule,c=e.noGutters,s=e.tag,i=e.form,u=Object(r.a)(e,["className","cssModule","noGutters","tag","form"]),f=Object(d.h)(l()(t,c?"no-gutters":null,i?"form-row":"row"),a);return o.a.createElement(s,Object(n.a)({},u,{className:f}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},921:function(e,t,a){"use strict";var n=a(35),r=a(100),c=a(895),o=a.n(c),s=a(3),i=a.n(s),u=a(112),l=a.n(u),d=a(886),f=a.n(d),h=a(887),m=l.a.oneOfType([l.a.number,l.a.string]),b=l.a.oneOfType([l.a.bool,l.a.number,l.a.string,l.a.shape({size:l.a.oneOfType([l.a.bool,l.a.number,l.a.string]),order:m,offset:m})]),p={tag:h.l,xs:b,sm:b,md:b,lg:b,xl:b,className:l.a.string,cssModule:l.a.object,widths:l.a.array},v={tag:"div",widths:["xs","sm","md","lg","xl"]},g=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},E=function(e){var t=e.className,a=e.cssModule,c=e.widths,s=e.tag,u=Object(r.a)(e,["className","cssModule","widths","tag"]),l=[];c.forEach(function(t,n){var r=e[t];if(delete u[t],r||""===r){var c=!n;if(o()(r)){var s,i=c?"-":"-"+t+"-",d=g(c,t,r.size);l.push(Object(h.h)(f()(((s={})[d]=r.size||""===r.size,s["order"+i+r.order]=r.order||0===r.order,s["offset"+i+r.offset]=r.offset||0===r.offset,s)),a))}else{var m=g(c,t,r);l.push(m)}}}),l.length||l.push("col");var d=Object(h.h)(f()(t,l),a);return i.a.createElement(s,Object(n.a)({},u,{className:d}))};E.propTypes=p,E.defaultProps=v,t.a=E},922:function(e,t,a){"use strict";var n=a(35),r=a(100),c=a(3),o=a.n(c),s=a(112),i=a.n(s),u=a(886),l=a.n(u),d=a(887),f={tag:d.l,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},h=function(e){var t=e.className,a=e.cssModule,c=e.color,s=e.body,i=e.inverse,u=e.outline,f=e.tag,h=e.innerRef,m=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(d.h)(l()(t,"card",!!i&&"text-white",!!s&&"card-body",!!c&&(u?"border":"bg")+"-"+c),a);return o.a.createElement(f,Object(n.a)({},m,{className:b,ref:h}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h},923:function(e,t,a){"use strict";var n=a(35),r=a(100),c=a(3),o=a.n(c),s=a(112),i=a.n(s),u=a(886),l=a.n(u),d=a(887),f={tag:d.l,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},h=function(e){var t=e.className,a=e.cssModule,c=e.innerRef,s=e.tag,i=Object(r.a)(e,["className","cssModule","innerRef","tag"]),u=Object(d.h)(l()(t,"card-body"),a);return o.a.createElement(s,Object(n.a)({},i,{className:u,ref:c}))};h.propTypes=f,h.defaultProps={tag:"div"},t.a=h}}]);